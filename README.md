# Курс «Симулятор SQL»

## 7 урок Подзапросы

### Практика

#### [Задача 1](https://lab.karpov.courses/learning/152/module/1762/lesson/17928/53213/257121)
Используя данные из таблицы `user_actions`, рассчитайте среднее число заказов всех пользователей нашего сервиса.

Для этого сначала в подзапросе посчитайте, сколько заказов сделал каждый пользователь, а затем обратитесь к результату подзапроса в блоке `FROM` и уже в основном запросе усредните количество заказов по всем пользователям.

Полученное среднее число заказов всех пользователей округлите до двух знаков после запятой. Колонку с этим значением назовите `orders_avg`.

Поле в результирующей таблице: `orders_avg`

```sql

SELECT round(avg(orders_count), 2) as orders_avg
FROM   (SELECT count(order_id) as orders_count,
               user_id
        FROM   user_actions
        WHERE  action = 'create_order'
        GROUP BY user_id) as subq_1

```

